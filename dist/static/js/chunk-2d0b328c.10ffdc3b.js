(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b328c"],{"26d6":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container",staticStyle:{display:"flex","flex-direction":"column","align-items":"center"}},[i("h1",{staticStyle:{"align-self":"center"}},[e._v("已注册算力设备")]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"auto"},attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"名称",prop:"deviceName",width:"65"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"描述",prop:"info",width:"155"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"创建者ID",prop:"userId",width:"60"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"创建时间",prop:"createdTime",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"活动时间",prop:"lastLogin",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"GPU驱动",prop:"driverVersion",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"CUDA版本",prop:"cudaVersion",width:"90"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"GPU数量",width:"95"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{placement:"right",width:"100%",trigger:"hover"}},[i("el-table",{attrs:{data:t.row.gpus}},[i("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"型号",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"calPower",label:"算力",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{prop:"powerLimit",label:"额定功率",width:"99"}}),e._v(" "),i("el-table-column",{attrs:{prop:"memAll",label:"显存总量",width:"99"}})],1),e._v(" "),i("el-button",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.gpuNum))])],1)]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"显存(MB)",prop:"gpuMemSum",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"算力",prop:"calPowerSum",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{on:{click:function(i){return e.jumpToManageDialog(t.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),i("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,layout:"total, prev, pager, next, jumper",total:e.totalCount},on:{"current-change":e.handleCurrentChange}}),e._v(" "),i("el-dialog",{attrs:{title:"设备管理",visible:e.dialogVisible,width:"1000px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{attrs:{"label-position":"right","label-width":"auto"}},[i("el-form-item",{staticStyle:{"margin-right":"450px"},attrs:{label:"ID"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogDeviceInfo.id,callback:function(t){e.$set(e.dialogDeviceInfo,"id",t)},expression:"dialogDeviceInfo.id"}})],1),e._v(" "),i("el-form-item",{staticStyle:{"margin-right":"450px"},attrs:{label:"创建用户ID"}},[i("el-input",{attrs:{disabled:!0},model:{value:e.dialogDeviceInfo.userId,callback:function(t){e.$set(e.dialogDeviceInfo,"userId",t)},expression:"dialogDeviceInfo.userId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"名称"}},[i("div",{staticStyle:{display:"flex"}},[i("el-input",{staticStyle:{"margin-right":"20px"},model:{value:e.inputDeviceName,callback:function(t){e.inputDeviceName=t},expression:"inputDeviceName"}}),e._v(" "),i("el-button",{staticStyle:{"margin-right":"450px"},attrs:{size:"small"},on:{click:e.updateName}},[e._v("提交修改")])],1)]),e._v(" "),i("el-form-item",{attrs:{label:"描述"}},[i("div",{staticStyle:{display:"flex"}},[i("el-input",{staticStyle:{"margin-right":"20px"},model:{value:e.inputDeviceInfo,callback:function(t){e.inputDeviceInfo=t},expression:"inputDeviceInfo"}}),e._v(" "),i("el-button",{staticStyle:{"margin-right":"250px"},attrs:{size:"small"},on:{click:e.updateInfo}},[e._v("提交修改")])],1)]),e._v(" "),i("el-form-item",{attrs:{label:"Token"}},[i("el-input",{staticStyle:{"margin-right":"0px"},attrs:{disabled:!0},model:{value:e.dialogDeviceInfo.token,callback:function(t){e.$set(e.dialogDeviceInfo,"token",t)},expression:"dialogDeviceInfo.token"}})],1)],1)],1)],1)},l=[],n=i("b775"),o="/aix/device";function r(){return Object(n["a"])({url:o+"/count",method:"get"})}function c(e,t){return Object(n["a"])({url:o+"/page",params:{page:e,countPerPage:t},method:"get"})}function s(e,t){return Object(n["a"])({url:o+"/name",data:{id:e,newName:t},method:"post"})}function u(e,t){return Object(n["a"])({url:o+"/info",data:{id:e,info:t},method:"post"})}var d={data:function(){return{list:null,listLoading:!0,totalCount:0,pageSize:9,currentPage:1,dialogVisible:!1,inputDeviceName:"",inputDeviceInfo:"",dialogDeviceInfo:{deviceName:"unknown",id:"",userId:"",info:"",token:""}}},methods:{updateName:function(){var e=this;s(this.dialogDeviceInfo.id+"",this.inputDeviceName).then((function(t){e.refreshPage()}))},updateInfo:function(){var e=this;u(this.dialogDeviceInfo.id+"",this.inputDeviceInfo).then((function(t){e.refreshPage()}))},jumpToManageDialog:function(e){this.dialogVisible=!0,this.dialogDeviceInfo=e,this.inputDeviceName=e.deviceName,this.inputDeviceInfo=e.info},handleCurrentChange:function(e){this.currentPage=e,this.refreshPage()},refreshPage:function(){var e=this;r().then((function(t){e.totalCount=t.data})),c(this.currentPage,this.pageSize).then((function(t){e.list=t.data,e.listLoading=!1}))}},created:function(){var e=this;this.listLoading=!0,r().then((function(t){e.totalCount=t.data})),c(1,this.pageSize).then((function(t){e.list=t.data,e.listLoading=!1}))}},p=d,g=i("2877"),v=Object(g["a"])(p,a,l,!1,null,"e9747cf4",null);t["default"]=v.exports}}]);