(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3de81918"],{"90fe":function(t,e,l){"use strict";l.r(e);var n=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("h1",[t._v("Client列表")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:t.fetchData}},[t._v("刷新")]),t._v(" "),l("br"),t._v(" "),l("br"),t._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,width:"100%","element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"名称",prop:"name",width:"95"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"描述",prop:"info",width:"195"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"创建用户",prop:"userId",width:"95"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"活动时间",prop:"since",width:"195"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"GPU驱动版本",prop:"gpuInfo.driverVersion",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"CUDA版本",prop:"gpuInfo.cudaVersion",width:"120"}}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"GPU数量",width:"95"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{placement:"right",width:"100%",trigger:"hover"}},[l("el-table",{attrs:{data:e.row.gpuInfo.gpus}},[l("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"name",label:"型号",width:"150"}}),t._v(" "),l("el-table-column",{attrs:{prop:"temperature",label:"温度",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"powerDraw",label:"当前功率",width:"99"}}),t._v(" "),l("el-table-column",{attrs:{prop:"powerLimit",label:"最大功率",width:"99"}}),t._v(" "),l("el-table-column",{attrs:{prop:"memUsed",label:"已用显存",width:"99"}}),t._v(" "),l("el-table-column",{attrs:{prop:"memAll",label:"显存总量",width:"99"}})],1),t._v(" "),l("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.gpuInfo.gpuNum))])],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"当前任务",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-popover",{attrs:{placement:"right",width:"100%",trigger:"hover"}},[l("el-table",{attrs:{data:e.row.taskBriefInfoList}},[l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200"}}),t._v(" "),l("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"accessType",label:"权限",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"info",label:"简介",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"createdTime",label:"创建时间",width:"230"}}),t._v(" "),l("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}})],1),t._v(" "),l("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.firstTaskName))])],1)]}}])}),t._v(" "),l("el-table-column",{attrs:{align:"center",label:"详情",width:"105"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{type:"primary"},on:{click:function(l){return t.jumpToManageDialog(e.row)}}},[t._v("管理")])]}}])})],1),t._v(" "),l("el-dialog",{attrs:{title:t.dialogDeviceInfo.name,visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[l("div",{staticStyle:{display:"flex"}},[l("div",{staticStyle:{"margin-right":"5px","font-size":"17px"}},[t._v("Token:")]),t._v(" "),l("div",[l("span",{staticStyle:{"font-size":"17px",color:"darkred","margin-right":"20px"}},[t._v(t._s(t.dialogDeviceInfo.token))])]),t._v(" "),l("div",[l("el-link",{staticClass:"copyBtn",staticStyle:{"font-size":"17px"},attrs:{"data-clipboard-text":t.dialogDeviceInfo.token}},[t._v("复制")])],1)]),t._v(" "),l("h3",[t._v("任务详情")]),t._v(" "),l("el-table",{attrs:{data:t.dialogDeviceInfo.taskBriefInfoList}},[l("el-table-column",{attrs:{prop:"name",label:"名称",width:"200"}}),t._v(" "),l("el-table-column",{attrs:{prop:"type",label:"类型",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"accessType",label:"权限",width:"100"}}),t._v(" "),l("el-table-column",{attrs:{prop:"info",label:"简介",width:"250"}}),t._v(" "),l("el-table-column",{attrs:{prop:"createdTime",label:"创建时间",width:"230"}}),t._v(" "),l("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"}})],1),t._v(" "),t.dialogDeviceInfo.taskBriefInfoList.length>0?l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.stopTask(t.dialogDeviceInfo.token)}}},[t._v("\n      终止任务\n    ")]):t._e(),t._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)],1)],1)},a=[],o=l("cd00"),i=l("b311"),r=l.n(i),s={filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},data:function(){return{list:null,dialogVisible:!1,dialogDeviceInfo:{name:"unknown",taskBriefInfoList:[]},listLoading:!0}},created:function(){this.fetchData();var t=this,e=new r.a(".copyBtn");e.on("success",(function(e){console.info("Action:",e.action),console.info("Text:",e.text),console.info("Trigger:",e.trigger),t.copySuccess(),e.clearSelection()}))},methods:{fetchData:function(){var t=this;this.listLoading=!0,o["e"]().then((function(e){t.list=e.data.items,t.listLoading=!1}))},jumpToManageDialog:function(t){this.dialogVisible=!0,this.dialogDeviceInfo=t},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},stopTask:function(t){this.$confirm("确认终止？").then((function(e){o["g"](t)})).catch((function(t){}))},copySuccess:function(){this.$message({message:"复制成功",type:"success"})}}},c=s,u=l("2877"),d=Object(u["a"])(c,n,a,!1,null,null,null);e["default"]=d.exports},cd00:function(t,e,l){"use strict";l.d(e,"d",(function(){return o})),l.d(e,"f",(function(){return i})),l.d(e,"e",(function(){return r})),l.d(e,"a",(function(){return s})),l.d(e,"c",(function(){return c})),l.d(e,"b",(function(){return u})),l.d(e,"g",(function(){return d}));var n=l("b775"),a=(l("4328"),"/aix/client");function o(){return Object(n["a"])({url:a+"/active_num",method:"get"})}function i(){return Object(n["a"])({url:a+"/online_num",method:"get"})}function r(){return Object(n["a"])({url:a+"/list",method:"get"})}function s(t){return Object(n["a"])({url:a+"/log/start",params:{token:t},method:"get"})}function c(t){return Object(n["a"])({url:a+"/log/stop",params:{token:t},method:"get"})}function u(){return Object(n["a"])({url:a+"/log/line",method:"get"})}function d(t){return n["a"].post(a+"/task",{token:t,action:"stop"})}}}]);